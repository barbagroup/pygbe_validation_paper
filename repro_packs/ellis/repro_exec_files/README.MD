# Reproducibility execution files

This directory contains four folders with executions files to reproduce the data for the article: Reproducible Validation and Replication Studies in Nanoscale Physics, in particular the results related to Ellis et al. 2016.

- To be able to run the scripts, the user needs to:

1. Install PyGBe. 
Installation can be done from source or with a Docker file. The Docker file and installation instructions are available in the GitHub software repository https://github.com/pygbe/pygbe

1. Download input data files from the Zenodo deposit () and extract in the desired location. (If using a Docker container, the data should be available inside the container.)

**Important note**:
1. When passing the path of the input problem folder to run the scripts, the path must end in `/`:
For example: if `pygbe_rockstuhl_problems` was downloaded in the directory 

`home/Downloads`, then the path will be:

`home/Downloads/pygbe_rockstuhl_problems/`

2. All the files generated by `PyGBe` after running each problem will be saved to `problem_folder/output`.
The output data will be post-processed on-the-fly, and the secondary data saved in your execution folder.
You can safely delete the output folder.

## Directories content description.

* `dielectric_data`: It contains the dielectric data of the Silicon Carbide pillars needed to perform the simulations. 
* `results_data`: It contains the folders with the secondary data generated when running the simulation, each directory contains a sub-directory called `original` that contains the data used for the results on the paper.
* `scripts`: It contains all the scripts needed to run the simulations, that created the data used in the results of the paper.
* `extra`: It contains a subdirectory with `scripts` and a subdirectory `results_data`, to produce results that helped to decide the mesh density of the uniform meshes. This results were not part of the paper as plots, but the information was mentioned in it. The input files to run these extra cases are in under a subdirectory called `extra` in the `pygbe_ellis_problems/` archive. 

To reproduce a certain result the user should be in the directory scripts and run the following shell command:

`$ python case_you_want_to_run.py -if full_path_where_input_problem_folder_is_located`

**Description of scripts**

* `cext_wavelength_scanning.py`: This script is an auxiliary script used by the remaining scripts on this directory. 

* `cext_wave_iso_pillar_ARn.py` where `n` goes from 1-7: These scripts are the ones that produce the curves for the Aspect Ratio study in the case of normal incidence.  The input needed to run this cases are located under `pygbe_ellis_problems/AR_analysis/`. The secondary data of these runs will be saved under `results_data/iso_pillar_AR`. 

* `cext_wave_iso_pillar_ARn_22.py` where `n` goes from 1-7: These scripts are the ones that produce the curves for the Aspect Ratio study in the case of 22 degree incidence. The input needed to run this cases are located under `pygbe_ellis_problems/AR_analysis_22deg/`. The secondary data of these runs will be saved under `results_data/iso_pillar_AR_22deg`.

* `cext_wave_iso_pillar_AR4_22orig_LE.py` and `cext_wave_iso_pillar_AR4_22orig_SE.py`: The script of the `LE` orientation is the one used to produced the data for validation and replication of Figure 2a of Ellis et al. 2016 presented in the paper. The script of the `SE` orientation computes the case where the polarization is normal, this is an extra case. The input needed to run this cases are located under `pygbe_ellis_problems/AR4_orig_22deg/`. The secondary data of these runs will be saved under `results_data/iso_pillar_AR4_22`. 


