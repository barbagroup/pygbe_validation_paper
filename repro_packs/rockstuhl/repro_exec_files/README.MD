# Reproducibility execution files

This directory contains four folders with executions files to reproduce the data for the article: Reproducible Validation and Replication Studies in Nanoscale Physics, in particular the results related to Rockstuhl et al. 2005.

- To be able to run the scripts, the user needs to:

1. Install PyGBe. 
Installation can be done from source or with a Docker file. The Docker file and installation instructions are available in the GitHub software repository https://github.com/pygbe/pygbe

1. Download input data files from the Zenodo deposit (DOI: 10.5281/zenodo.3962534) and extract in the desired location. (If using a Docker container, the data should be available inside the container.)

**Important note**:
1. When passing the path of the input problem folder to run the scripts, the path must end in `/`:
For example: if `pygbe_rockstuhl_problems` was downloaded in the directory 

`home/Downloads`, then the path will be:

`home/Downloads/pygbe_rockstuhl_problems/`

2. All the files generated by `PyGBe` after running each problem will be saved to `problem_folder/output`.
The output data will be post-processed on-the-fly, and the secondary data saved in your execution folder.
You can safely delete the output folder.

## Directories content description.

* `dielectric_data`: It contains the dielectric data of the Silicon Carbide pillars needed to perform the simulations. 
* `results_data`: It contains the folders with the secondary data generated when running the simulation, each directory contains a sub-directory called `original` that contains the data used for the results on the paper.
* `scripts`: It contains all the scripts needed to run the simulations, that created the data used in the results of the paper.  

To reproduce a certain result the user should be in the directory scripts and run the following shell command:

`$ python case_you_want_to_run.py -if full_path_where_input_problem_folder_is_located`

**Description of scripts**

* `cext_wavelength_scanning.py`: This script is an auxiliary script used by the remaining scripts on this directory. 

* `cext_wave_cube_15K.py` and `cext_wave_cube_19K.py`: This scripts are the ones that produce the curves for the grid independence study. The input needed to run this cases are located under `pygbe_rockstuhl_problems/cube_535/`. The secondary data of these runs will be saved under `results_data/cube_535nm_res`. 

* `cext_wave_prism_36K_LE.py` and `cext_wave_prism_36K_SE.py`: This scripts are the ones that produce the curves for the rectangular prism of length $y=1344$ nm, that use a mesh generated with Trimesh. The input needed to run this cases are located under `pygbe_rockstuhl_problems/trimesh_mesh_files`. The secondary data of these runs will be saved under `results_data/prism_672x1344x328nm_res`. 

* `cext_wave_prism_34K_LE.py` and `cext_wave_prism_34K_SE.py`: This scripts are the ones that produce the curves for the rectangular prism of length $y=2688$ nm, that use a mesh generated with Trimesh. The input needed to run this cases are located under `pygbe_rockstuhl_problems/trimesh_mesh_files`. 
The secondary data of these runs will be saved under `results_data/prism_SE_LE_res`. 

* `cext_wave_prism_reg_36K_LE_y13K.py` and `cext_wave_prism_reg_36K_SE_y13K.py`: This scripts are the ones that produced curves  for the rectangular prism of length $y=1344$ nm, that use a mesh generated a uniform mesh generated by our python script. The input needed to run this cases are located under `pygbe_rockstuhl_problems/reg_mesh_files/` along with a notebook that generate that shows how to generate the meshes. The secondary data of these runs will be saved under `results_data/prism_regular_SE_LE_res`. 

* `cext_wave_prism_reg_38K_LE.py` and `cext_wave_prism_reg_38K_SE.py`: This scripts are the ones that produced curves for the rectangular prism of length $y=2688$ nm, that use a mesh generated a uniform mesh generated by our python script. The input needed to run this cases are located under `pygbe_rockstuhl_problems/reg_mesh_files/` along with a notebook that shows how to generate the meshes. The secondary data of these runs will be saved under `results_data/prism_regular_SE_LE_res`. 

* `cext_wave_prism_round_reg_38K_LE.py` and `cext_wave_prism_round_reg_38K_SE.py`: This scripts are the ones that produced curves for the rectangular prism of length $y=2688$ nm, that use a mesh generated a uniform mesh generated by our python script, and with round edges generated using Trimesh. The input needed to run this cases are located under `pygbe_rockstuhl_problems/round_reg_mesh_files/` along with a notebook  that shows how to generate the meshes. The secondary data of these runs will be saved under `results_data/prism_regular_SE_LE_res`. The secondary data of these runs is also used for the final replication plots of Rockstuhl et al. 2005 on the paper. 